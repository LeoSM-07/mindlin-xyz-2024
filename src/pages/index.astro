---
import Layout from '../layouts/Layout.astro';
import stairway from "../images/stairway.png"
import { Image } from 'astro:assets';

interface Data {
  id: string;
  title: string;
  description: string;
  date: string;
  tech: string;
  image: string;
}

const entries = [
  {
    id: "tellavision",
    title: "TellAVision Agency Website",
    description: "A website for a fictional marketing agency that specializes in video production and social media marketing. This project was completed as a part of my web development course at McGill University.",
    date: "2024",
    tech: "Next.JS"
  },
  {
    id: "portfolio",
    title: "Portfolio Website",
    description: "This website! I wanted to create a simple, fast, and accessible portfolio website that would showcase my work and provide a little bit of information about me.",
    date: "2024",
    tech: "Astro"
  },
  {
    id: "stairway-1",
    title: "Stairway Ticketing System V1",
    description: "An event ticketing platform that was created to serve the specific needs of the Santa Monica-Malibu Unified School District. This entire system from ticket ordering to ticket redemption at the venue was completed as a solo project during my senior year of high school.",
    date: "2024",
    tech: "Next.JS"
  }
]
---

<Layout title="Léo Mindlin">
  <main class="max-w-md w-full space-y-4 pb-10">
    <h1 class="text-4xl">Léo Mindlin</h1>
    <a class="font-mono" href="mailto:leo@mindlin.xyz">leo@mindlin.xyz</a>
    <p>Undergaduate student at <a target="_blank" href="https://www.mcgill.ca/">McGill University</a> studying software engineering in the <a target="_blank" href="https://www.mcgill.ca/ece/undergrad/information/software-engineering-co-op">Co-op Program</a>. Originally from sunny Santa Monica, California.</p>
    <p>Interested in web development, native iOS development, graphics programming, smart home automation, and the Internet of Things.</p>
    <p>I'm currently making projects with <a target="_blank" href="https://www.swift.org/">Swift</a>, <a target="_blank" href="https://developer.apple.com/xcode/swiftui/">SwiftUI</a>, <a target="_blank" href="https://nextjs.org/">Next.JS</a>, <a href="https://astro.build/" target="_blank">Astro</a>, and <a href="https://neovim.io/" target="_blank">NeoVim</a>. I also enjoy using Blender, Final Cut, Photoshop, and After Effects.</p>

    <hr />

    <h2 class="text-3xl">My Work</h2>

    <table class="w-full pb-5">
{entries.map((entry) => (
  <tr id={entry.id} class="border-t first:border-none cursor-pointer">
    <td class="py-3">{entry.date}</td>
    <td>{entry.title}</td>
    <td class="text-right">{entry.tech}</td>
      </tr>
))}
    </table>
  </main>
  <div class="w-full gap-2">
  <aside class="fade-element space-y-2 ">
    <h3 class="text-3xl">Stairway Ticketing System V1</h3>
    <p>An event ticketing platform that was created to serve the specific needs of the <a href="https://www.smmusd.org/" target="_blank">Santa Monica-Malibu Unified School District</a>. This entire system from ticket ordering to ticket redemption at the venue was completed as a solo project during my senior year of high school.</p>
    <Image src={stairway} alt="Preview of project" />
  </aside>
  </div>
</Layout>

<script>
// @ts-ignore
let timeoutId;
document.querySelector('#stairway-1')?.addEventListener('mouseenter', function() {
  let fadeElement = document.querySelector('.fade-element');
  if (!fadeElement) { return }
  else if (window.innerWidth < 768) { return };
  // @ts-ignore
  fadeElement.style.display = 'block';

  console.log("mouse enter")
  // @ts-ignore
  clearTimeout(timeoutId);
  timeoutId = setTimeout(() => {
  // @ts-ignore
    fadeElement.style.opacity = '1'
  // @ts-ignore
    fadeElement.style.transform = 'translateY(0)';
  }, 10); // Small timeout to trigger the transition
});

document.querySelector('#stairway-1')?.addEventListener('click', function() {
  let fadeElement = document.querySelector('.fade-element');
  if (!fadeElement) { return }
  else if (window.innerWidth < 768) { return };

  console.log('toggled shown')

  fadeElement.classList.toggle('shown')
})

document.querySelector('#stairway-1')?.addEventListener('mouseleave', function() {
  let fadeElement = document.querySelector('.fade-element');
  if (!fadeElement) { return }
  else if (window.innerWidth < 768) { return }
  else if (fadeElement.classList.contains('shown')) { console.log("Didnt bc of shown"); return };

  console.log("mouse leave")
  // @ts-ignore
    fadeElement.style.transform = 'translateY(20px)';
  // @ts-ignore
    fadeElement.style.opacity = '0';
  // @ts-ignore
    clearTimeout(timeoutId);
  // @ts-ignore
    timeoutId = setTimeout(() => fadeElement.style.display = 'none', 500); // Match with the transition duration
});
</script>

<style is:global>
.fade-element {
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.5s cubic-bezier(0.22, 1, 0.36, 1);
  display: none;
}
tr:hover {
    color: light-dark(hsl(0, 0%, 15%), hsl(0, 0%, 85%));
    font-weight: 475;
    transition: all 0.15s ease-out;
  }

  h1 {
    color: light-dark(hsl(0, 0%, 15%), hsl(0, 0%, 85%));
    font-weight: 600;
    margin: 0;
    padding: 0;
}

h2 {
    color: light-dark(hsl(0, 0%, 15%), hsl(0, 0%, 85%));
}

h3 {
    color: light-dark(hsl(0, 0%, 15%), hsl(0, 0%, 85%));
}
  a {
    color: light-dark(hsl(0, 0%, 15%), hsl(0, 0%, 85%));
    font-weight: 475;
    transition: all 0.15s ease-out;
  }

  a:hover {
    font-weight: 650;
  }
</style>
